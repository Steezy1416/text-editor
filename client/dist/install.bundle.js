(()=>{const e=document.getElementById("buttonInstall");window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),window.deferredPrompt=t,e.classList.toggle("hidden",!1)})),e.addEventListener("click",(async()=>{const t=window.deferredPrompt;t&&(t.prompt(),await t.userChoice,window.deferredPrompt=null,e.classList.toggle("hidden",!0))})),window.addEventListener("appinstalled",(e=>{console.log(`app installed ${e}`),window.deferredPrompt=null}))})();